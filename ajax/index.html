<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="x-ua-compatible" content="IE=edge,chrome=1">
		<title>使用本地json数据渲染页面</title>
		<link rel="stylesheet" type="text/css" href="css/normalize.css"/>
		<link rel="stylesheet" type="text/css" href="css/layui.css"/>
		<link rel="stylesheet" type="text/css" href="css/my.css"/>
	</head>
	<body>
		<div class="layui-layout layui-layout-admin">
		  <div class="layui-side layui-bg-black">
			<div class="layui-side-scroll">
			  <!-- 左侧导航区域（可配合layui已有的垂直导航） -->
			  <ul class="layui-nav layui-nav-tree"  lay-filter="test">
				<li class="layui-nav-item layui-nav-itemed">
				  <a href="javascript:;" class="rygl">管理层</a>
				  <dl class="layui-nav-child rys rysgl">
					
				  </dl>
				</li>
				<li class="layui-nav-item">
				  <a href="javascript:;" class="rypt">普通员工</a>
				  <dl class="layui-nav-child rys ryspt">
						
				  </dl>
				</li>
			  </ul>
			</div>
		  </div>
		  
		  <div class="layui-body">
			<!-- 内容主体区域 -->
			<div class="ry">
				<div class="layui-card rwscs">
					
				</div>
			</div>
			
		  </div>
		  
		
		</div>
		
		<script src="js/jq.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/layui.all.js" type="text/javascript" charset="utf-8"></script>		
		<script type="text/javascript">
			// layui部分
			layui.use('element', function(){
			  var element = layui.element;
			});
			
			function ry(data){
			  //回调函数名称(indexDemo)，需要与 src 中一致，而且要与文件地址中名一致。jsonp格式 名称({})
				//不然无法获取到对应的文件
			  console.log(data)     //打印 indexDemo.json 中的数据
				var a = data;
				var html = ''
				var html1 = ''
				for(var i=0;i<a.length;i++){
					
					if($('.rygl').text() == a[i].cc){
						html += '<dd><a href="#">'+a[i].name+'</a></dd>'
					}
					if($('.rypt').text() == a[i].cc){
						html1 += '<dd><a href="#">'+a[i].name+'</a></dd>'
					}
					$('.rwscs').html('<div class="layui-card-header"><span class="rwm">'+a[0].name+'</span>写过这样一句诗：</div><div class="layui-card-body rwsj">'+a[i].sc+'</div>')
				}
				$('.rysgl').html(html)
				$('.ryspt').html(html1)
				
				$('.rys dd a').click(function(){
					event.preventDefault()
					for(var i=0;i<a.length;i++){
						if($(this).text() == a[i].name){
							// console.log(1111)
							$('.rwscs').html('<div class="layui-card-header"><span class="rwm">'+a[i].name+'</span>写过这样一句诗：</div><div class="layui-card-body rwsj">'+a[i].sc+'</div>')
							
						}
					}
				})
				 
				 
			}
		</script>
		<script type="text/javascript" src="api/sc.json?callback=ry"></script>
		
	</body>
</html>
